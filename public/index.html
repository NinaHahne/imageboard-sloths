<!DOCTYPE html>
<html>
    <head>
        <title>Ninas Imageboard</title>
        <link rel="stylesheet" href="/styles.css" />
        <link href="https://fonts.googleapis.com/css?family=Changa:400,600" rel="stylesheet">
        <link rel="icon" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/237/frame-with-picture_1f5bc.png">
        <!-- <link rel="icon" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/openmoji/213/frame-with-picture_1f5bc.png"> -->
    </head>
    <body>
        <header>
            <h1>Ninas Imageboard</h1>
            <h2>Latest Images</h2>
        </header>
        <div id="main">
            <first-component
            v-if='selectedFruit'
            post-title='My amazing article'
            :id='selectedFruit'
            @close='closeMe'
            ></first-component>
            <!-- post-title is called postTitle in the script.js -->
            <modal-component
            v-if='selectedImage'
            :id='selectedImage'
            @close='closeMe'
            ></modal-component>

            <p
            class="fruit"
            v-for="fruit in fruits"
            v-if="fruits.length"
            @click='selectedFruit = fruit.id'>{{fruit.title}}</p>

            <form>
                <input type="text" v-model='title' name="title" placeholder="title">
                <input type="text" v-model='description' name="description" placeholder="description">
                <input type="text" v-model="username" name="username" placeholder="username">
                <input type="file" @change='handleChange' name="file" accept='image/*'>
                <!-- "image/* means: images with any extension -->
                <button @click='handleClick'>submit</button>
            </form>


            <!-- <h1>{{title}}</h1>
            <h2>{{heading}}</h2> -->
            <section id='wrapper' v-if="images">
                <div class="img-card" v-for="img in images" @click='selectedImage = img.id'>
                    <div class="img-box">
                        <img :src="img.url" :alt="img.title" />
                    </div>
                    <p>{{img.title}}</p>
                </div>

            </section>
            <!-- <ul v-if="images">
                <li v-for="img in images">
                    <h3>{{img.title}}</h3>
                    <img :src="img.url" :alt="img.title" />
                </li>
            </ul> -->
            <!-- <first-component></first-component> -->
        </div>


        <script type="text/x-template" id="template">
            <div class="component">
                <div class="close-box" @click='closeModal'>
                    <span id='closeX'>x</span>
                </div>
                <h1 @click='closeModal'>This is my first component</h1>
                <h2>My name is: {{name}}</h2>
                <button @click='count++'>Click me</button>Count: {{count}}
            </div>
        </script>

        <script type="text/x-template" id="modal-template">
            <div class="component">
                <div class="close-box" @click='closeModal'>
                    <span id='closeX'>x</span>
                </div>
                <h1 @click='closeModal'>Here is the picture you clicked on:</h1>
                <img :src='imageData.url' :alt='imageData.title'>
                <h2>{{imageData.title}}</h2>
                <p>{{imageData.description}}</p>
                <p>Uploaded by {{imageData.username}} on {{imageData.created_at}}</p>

                <div id="comment-input">
                    <input type="text" v-model='comment' name="comment" placeholder="comment">
                    <input type="text" v-model="username" name="username" placeholder="username">
                    <button @click='handleClick'>submit</button>
                </div>
                <div id="comments" v-if="comments">
                    <div class="comment-box" v-for="comment in comments">
                        <p>{{comment.comment}}</p>
                        <p>{{comment.username}} on {{comment.created_at}}</p>
                    </div>
                </div>

            </div>
        </script>
        <footer>Nina Hahne 2019</footer>

        <script src="/js/vue.js"></script>
        <script src="/js/axios.min.js"></script>
        <script type="text/javascript" src="/js/script.js"></script>
    </body>
</html>
